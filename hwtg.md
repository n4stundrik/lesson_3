# Инструкция для работы с Git и удалёнными репозиториями
## Что такое Git?
**Git**- это самая популярная в мире распределённая система контроля версий. Линус Торвальдс, разработчик ядра OC Linux, создал этот инструмент ещё в 2005 году, а сегодня Git активно поддерживается как проект с открытым исходным кодом. Оргомное количество открытых и коммерческих проектов используют Git для контроля версий.
## Создание репозиториев
**Репозиторий Git или репозиторий**- это папка, в которую Git отслеживает изменения. На компьютере может быть любое количество репозиториев, каждое из которых харнится в собственной папке. Каждый репозиторий Git в системе является независимым, поэтому изменения, сохранённые в одном репозитории Git, не влияют на содержимое другого.
### Команды работы с репозиториями
* Инициализация репозитория:

Создать пустой репозиторий Git или вновь инициализировать существующий можно параметром init. При инициализации он создаст скрытую папку. В ней содержатся все объекты и ссылки, которые Git использует и создаёт в истории работы над проектом.
```sh
git init
```
* Добавление отдельных файлов или всех файлов в область подготовленных файлов:

Добавить отдельный файл в область подготовленных файлов можно параметром add с указанием имени файла
```sh
git add .\hwgit.md
```
* Внесение изменений однострочным сообщением или через редактор:

При создании коммита в репозитории можно добавить однострочное сообщение с помощью параметра commit с флагом -m. Само сообщение вводится непосредственно после флага в ковычках.
```sh
git commit -m "Добавили пункт Инициализация репозитория" 

* Просмотр истории коммитов с изменениями:

  Просматривать изменения, внесённые в репозиторий, можно с помощью параметра log. Он отображает список последних коммитов в порядке выполнения. Кроме того, добавив флаг -p, можно подробно изучить изменения, внесённые в каждый файл
```sh
git log -p 
```

--online: показывает каждый коммит в одной строке, содержащей только его SHA-1 хеш и комментарий
 ```sh
git log --online
```

* Проверка статуса репозитория:

Просмотреть статус нужного репозитория можгно по ключевому слову status: его действие распространяется на подготовленные, неподготовленный и неотслеживаемые файлы
```sh
git status
```

* Переключение между ветками:

Команда git checkout в Git используется для переключения между ветками, проверки коммитов и отката изменений. Она позволяет переключаться между различными состояниями вашего репозитория.
```sh
git checkout
```
## Удалённые репозитории

Сейчас наш коммит является локальным, существует только в директории на на файловой системе. Несмотря на то, что сам по себе локальный репозиторий полезен, в большинстве случаев мы можем поделитьсяяя нашей работой или доставить код на сервер, где он будет выполняться.

* Что такое удалённый репозитории- репозиторий хранящийся в облаке, на стороннем сервисе, специально созданном для раборты с git имеет ряд преимуществ. Во- первых- это своего рода резервная копия Вашего проекта, предоставляющая возможность безболезненой работе в команде.

Клонирование

Клонирование- это когда Вы копируете удалённый репозиторий к себе на локальный ПК.
Это то, с чего обычно начинается любой проект. При этом Вы переносите себе файлы и папки проекта, а так же всю историю с момента его создания. Чтобы клонировать проект, сперва, необходимо узнать где он расположен и скопировать ссылку на него.

Например: 
```sh
git clone https://github.com/ilnar-geekbrains/version_control_lection_3.git
```
При клонировании в текущий коталог, там будет создана папка, в которую поместятся все проектные файлы и скрытая директория .git, с самим репозиторием, по умолчанию, будет создана папка с одноименным названием, но его можно залить и в другую дерикторию, например:
```sh
git clone https://github.com/ilnar-geekbrains/version_control_lection_3.git new-folder
```
 Для того чтобы перейти в удалённый репозиторий, необходимо ввести
 ```sh
 cd version_control_lection_3
```
* Настройка подключения удалённого репозитория

Необходимость подключить удалённый репозиторий к уже существующему локальному возникает в ситуациях, когда Вы решаете выгрузить уже написанный код на удалённый сервер. Это нужно, чтобы другие разработчики смогли получить к нему доступ или чтобы Вы сами могли заниматься разработкой с нескольких комьютеров (например, домашнего и рабочего).

Для управления подключением удалённых репозиториев в Git предусмотрена целая группа команд- git remote. Мы рассмотрим самые частоиспользуемые команды из этой группы.

1. git remote add- подключает удалённый репозиторий к Вашему род переданным именем, например:
```sh
git remote add <название удаленного репозитория> <ссылка на удаленный репозиторий>
```
2. git remote remove- отключает переданный удалённый репозиторий от Вашего, например:
```sh
git remote remove <название удаленного репозитория>
```
3. git remote rename- меняет имя переданного удалённого репозитория, например:
```sh
git remote rename <старое имя удаленного репозитория> <новое имя удаленного репозитория>
```
4. git remote show- выводит список всех подключенных удалённых репозиториев. Если передано имя репозитория, то выводит информацию об этом репозитории, например: 
```sh
git remote show [имя удаленного репозитория]
```
* Получение изменений из удалённого репозитория.

Чтобы получить изменеия из удалённого репозитория, в Git предусмотрена команда git fetch- получает изменения из переданного удалённого репозитория. Если не было передано ни одного удалённого репозитория, ни одного ключа --all (Получает изменения из всех подключенных удаленных репозиториев), команда пытается получить изменения из репозитория с именем origin.

Например:
```sh
git fetch [ключи] [имя удаленного репозитория]
```
* Получение изменений из удалённого репозитория

git pull- Получает изменения из переданного удалённого репозитория и обновляет рабочую копию в соответствии с удалённым репозиторием. По умолчанию слияние удалённой ветки с локальной происходит именно в fast-forward режиме, так что включать его специально не требуется.
```sh
git pull [ключи] [имя удаленного репозитория]
```
Ключи:

--ff

--no-ff

--ff-only

Эти ключи определяют стратегию слияния. --ff – включить fast-forward, если это возможно, --no-ff – отключить fast-forward, а --ff-only – остановить pull, если его невозможно сделать в fast-forward.

* Отправка изменений в удалённый репозиторий.
git push- загружает изменения в удалённый репозиторий. Если слияние изменений в удалённом репозитории нельзя сделать в режиме fast-forward и при этом не был передан ключ forse, выполнение закончится ошибкой.
```sh
git push [ключи] [имя удаленного репозитория] [имя ветки]
```
Ключи:

--all
Пушит все имеющиеся ветки

-f, --force
Перезаписывает удаленную ветку, вне зависимости от ее содержимого. Старайтесь не использовать этот флаг без крайней необходимости.

--force-with-lease
Удаляет все коммиты, которых нет в локальном репозитории. Если коммит, который команда соберется удалять был создан другим пользователем, то выполнение закончится с ошибкой.

По факту данная команда аналогична связке git fetch + git merge, но выполненной из удаленного репозитория (это просто аналогия, на самом деле так сделать не получится).

Давайте более подробно разберем, как работает эта команда. Допустим, мы выполнили git push origin develop в нашем локальном репозитории. Возможны три варианта развития событий.

Если изменения с нашей ветки можно слить с удаленной веткой в режиме fast-forward, то есть на удаленной ветке нет коммитов сделанных после наших, то все пройдет нормально.

Если на удаленной ветке есть коммиты, которые были сделаны позже наших, то есть слияние в режиме fast-forward выполнить невозможно, то команда завершится с ошибкой. Ведь в этом случае есть угроза перезаписи истории удаленного репозитория и удаления всех коммитов, созданных позже наших.

Запись с GitHub
